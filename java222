package aaa;

import java.util.Scanner; 
import java.lang.Object;
import java.io.*;


class Obsluga {

	static public int ilosc_pracownikow=0; //zmienna do zliczasnia pracownikow/id 
	static Scanner in = new Scanner(System.in);


	
	static Pracownik[] pracownik= new Pracownik[10]; //???


//wyswietlanie wszystkich pracownikow

	void a() 
	{
		for (int i=0; i<10; i++)
			{
				System.out.println("\nnr pracownika: " +pracownik[i].nr_pracownika);
				System.out.println("\nimie: " +pracownik[i].imie);
				System.out.println("\npensja: " +pracownik[i].pensja);
				System.out.println("\nurlop: " +pracownik[i].urlop);
			}
	}

//dodaj pracownika

	void b() throws IOException 
	{
		int ilosc_pracownikow;
		String imie;
		int pensja;
		boolean urlop;
		InputStreamReader isr = new InputStreamReader(System.in);
		BufferedReader br = new BufferedReader(isr);	
		
		if (ilosc_pracownikow<10)
		{
		
			pracownik[ilosc_pracownikow].nr_pracownika=ilosc_pracownikow+1;
			
			System.out.println("Podaj imie: ");
			imie=br.readLine();

			System.out.println("Podaj pensje: ");
			pensja=in.nextInt();

			System.out.println("Urlop?: ");
			urlop=in.nextBoolean();
			System.out.print("\n");	
			pracownik[ilosc_pracownikow]=new Pracownik(ilosc_pracownikow, imie, pensja, urlop);	
		
			ilosc_pracownikow++;
		} else System.out.println("Stworzono wiecej niz 10 pracownikow, dodawanie zablokowane");
	}


//daj podwyzke

	void c()
	{
		int dolary; //wysokosc podwyzki
		int i; //nr pracownika !!do zmiany!!
		System.out.println("\nPodaj nr pracownika: ");
		i = in.nextInt();
		System.out.println("\nPodaj ilosc podwyzki ");
		dolary = in.nextInt();
		pracownik[i-1].pensja+=dolary;
	}

//przenies pracownika na urlop

	void d()
	{
		int i; // do zmiany!!!
		System.out.println("\nPodaj nr pracownika: ");
		i = in.nextInt();
		pracownik[i-1].urlop=true;
	}



//usuwanie pracowników

	static void usunPracownikow()
	{
		for(int id=0; id<10; id++)
		{
			pracownik[id] = null;
			ilosc_pracownikow--;
		}
	}



/////////////////////////////////////////////////




//zapisz raport do pliku 



	static public void zapiszListePracownikow() throws FileNotFoundException
	{
		PrintWriter wy = new PrintWriter("dane.txt");
		int ilosc_pracownikow;
		for(int i=0;i<ilosc_pracownikow;i++)
	     	if(pracownik[i]!=null)
	      	{
	     		
	    		
	    		wy.println(""+i);
	        	wy.println(""+pracownik[i].imie);
	        	wy.println(""+pracownik[i].pensja);
	        	wy.println(""+pracownik[i].urlop);
	        
	        }
			
		wy.close();
	}



///dopisac metode ktora odczytuje z pliku pracownikow i dopisuje ich do aktualnej bazy



	static public void WczytajZPliku()throws IOException 
    {
        BufferedReader we = new BufferedReader(new FileReader("dane.txt"));
        int licznik = Integer.parseInt(we.readLine());
        int add=0;
        int nr2=0;
        String imie;
        int pensja;
        boolean urlop;
        while(add<licznik)
        {                     
        	imie =we.readLine();
            pensja = we.read();
            urlop= we.ready();                                    
            pr[nr2] = new Pracownik(nr2,imie,pensja,urlop);
            iloscprac++;
            nr2++;
            dodanych++;
        }
               
        we.close();
    }

	void wyswietlMenu()
	{

		System.out.println("\n a. Wyswietl wszystkich pracownikow");
		System.out.println("\n b. Dodaj pracownika");
		System.out.println("\n c. Daj podwyzke dla pracownikow");
		System.out.println("\n d. Przenies pracownika na urlop");
		System.out.println("\n e. Zapisz do pliku raport");
		System.out.println("\n f. Wczytaj liste pracownikow");
		System.out.println("\n\n x. Zakoncz program\n");
	}



//funkcja wyswietlajaca menu programu i zmieniajaca

	public static void main(String args[])  throws IOException { 
	
	Obsluga o = new Obsluga();

//menu programu
//wypisanie

	 wyswietlMenu();

		

	
//wybór
	char z;
		do {

		z = (char)System.in.read();
		//	string z=odczyt.nextLine(); //z = zmienna do wprowadzania znakow w menu
		
			switch (z) {
					case 'a': 
						o.a();//funkcja wyswietlania wszystkich pracownikow
						break;
					case 'b':
						o.b();//Dodaj pracownika
						break;
					case 'c':
						o.c();//Daj podwyzke dla pracownikow
						break;
					case 'd':
						o.d();//Przenies pracownika na urlop
						break;
					case 'e':
						o.zapiszListePracownikow();//Zapisz do pliku raport
						break;

					default:System.out.println("\nError, podano zly klawisz");
						break;
					}

			} while (z != 'x');   // z cannot be resolved???
	}
}






class Pracownik
{
	public int nr_pracownika;
	String imie;
	int pensja;
	boolean urlop;
	
		


		public Pracownik(int nr_pracownika, String imie, int pensja, boolean urlop)
		{

			this.nr_pracownika = nr_pracownika;
			this.imie = imie;
			this.pensja = pensja;
			this.urlop = urlop;
		}
	
}
